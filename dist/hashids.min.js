!function(t,e){if("function"==typeof define&&define.amd)define(["module","exports","bignum"],e);else if("undefined"!=typeof exports)e(module,exports,require("bignum"));else{var s={exports:{}};e(s,s.exports,t.bignum),t.Hashids=s.exports}}(this,function(t,e,s){"use strict";function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(s),r=function(){function t(t,e){for(var s=0;s<e.length;s++){var h=e[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(e,s,h){return s&&t(e.prototype,s),h&&t(e,h),e}}(),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";h(this,t);var a="error: alphabet must contain at least X unique characters",i="",l=void 0,u=void 0;this.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},this.parseInt=function(t,e){return/^(\-|\+)?([0-9]+|Infinity)$/.test(t)?parseInt(t,e):NaN},this.bignum=function(t){return/^(\-|\+)?([0-9]+|Infinity)$/.test(t)&&t!==1/0?(0,n.default)(t):NaN},this.seps="cfhistuCFHISTU",this.minLength=parseInt(s,10)>0?s:0,this.salt="string"==typeof e?e:"","string"==typeof r&&(this.alphabet=r);for(var o=0;o!==this.alphabet.length;o++)-1===i.indexOf(this.alphabet.charAt(o))&&(i+=this.alphabet.charAt(o));if(this.alphabet=i,this.alphabet.length<16)throw a.replace("X",16);if(-1!==this.alphabet.search(" "))throw"error: alphabet cannot contain spaces";for(var p=0;p!==this.seps.length;p++){var f=this.alphabet.indexOf(this.seps.charAt(p));-1===f?this.seps=this.seps.substr(0,p)+" "+this.seps.substr(p+1):this.alphabet=this.alphabet.substr(0,f)+" "+this.alphabet.substr(f+1)}this.alphabet=this.alphabet.replace(/ /g,""),this.seps=this.seps.replace(/ /g,""),this.seps=this._shuffle(this.seps,this.salt),(!this.seps.length||this.alphabet.length/this.seps.length>3.5)&&(l=Math.ceil(this.alphabet.length/3.5))>this.seps.length&&(u=l-this.seps.length,this.seps+=this.alphabet.substr(0,u),this.alphabet=this.alphabet.substr(u)),this.alphabet=this._shuffle(this.alphabet,this.salt);var g=Math.ceil(this.alphabet.length/12);this.alphabet.length<3?(this.guards=this.seps.substr(0,g),this.seps=this.seps.substr(g)):(this.guards=this.alphabet.substr(0,g),this.alphabet=this.alphabet.substr(g))}return r(t,[{key:"encode",value:function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];if(!e.length)return"";if(e[0]&&e[0].constructor===Array&&(e=e[0],!e.length))return"";for(var h=0;h!==e.length;h++)if(e[h]=this.bignum(e[h]),!(e[h]>=0))return"";return this._encode(e)}},{key:"decode",value:function(t){var e=[];return t&&t.length&&"string"==typeof t?this._decode(t,this.alphabet):e}},{key:"encodeHex",value:function(t){if(t=t.toString(),!/^[0-9a-fA-F]+$/.test(t))return"";for(var e=t.match(/[\w\W]{1,12}/g),s=0;s!==e.length;s++)e[s]=parseInt("1"+e[s],16);return this.encode.apply(this,e)}},{key:"decodeHex",value:function(t){for(var e=[],s=this.decode(t),h=0;h!==s.length;h++){var n=s[h].toString(16),r=2;0===n.indexOf("1")&&(r=1),e+=n.substr(r)}return e}},{key:"_encode",value:function(t){for(var e=void 0,s=this.alphabet,h=(0,n.default)(0),r=0;r!==t.length;r++)h=h.add(t[r].mod(r+100));e=s.charAt(h.mod(s.length));for(var a=e,i=0;i!==t.length;i++){var l=t[i],u=a+this.salt+s;s=this._shuffle(s,u.substr(0,s.length));var o=this._toAlphabet(l,s);if(e+=o,i+1<t.length){l=l.mod(o.charCodeAt(0)+i);var p=l.mod(this.seps.length);e+=this.seps.charAt(p)}}if(e.length<this.minLength){var f=h.add(e[0].charCodeAt(0)).mod(this.guards.length),g=this.guards[f];e=g+e,e.length<this.minLength&&(f=h.add(e[2].charCodeAt(0)).mod(this.guards.length),g=this.guards[f.toNumber()],e+=g)}for(var c=parseInt(s.length/2,10);e.length<this.minLength;){s=this._shuffle(s,s),e=s.substr(c)+e+s.substr(0,c);var d=e.length-this.minLength;d>0&&(e=e.substr(d/2,this.minLength))}return e}},{key:"_decode",value:function(t,e){var s=[],h=0,n=new RegExp("["+this.escapeRegExp(this.guards)+"]","g"),r=t.replace(n," "),a=r.split(" ");if(3!==a.length&&2!==a.length||(h=1),r=a[h],void 0!==r[0]){var i=r[0];r=r.substr(1),n=new RegExp("["+this.escapeRegExp(this.seps)+"]","g"),r=r.replace(n," "),a=r.split(" ");for(var l=0;l!==a.length;l++){var u=a[l],o=i+this.salt+e;e=this._shuffle(e,o.substr(0,e.length)),s.push(this._fromAlphabet(u,e))}this.encode(s)!==t&&(s=[])}return s}},{key:"_shuffle",value:function(t,e){var s=void 0;if(!e.length)return t;t=t.split("");for(var h=t.length-1,n=0,r=0,a=0;h>0;h--,n++){n%=e.length,r+=s=e.charCodeAt(n),a=(s+n+r)%h;var i=t[a];t[a]=t[h],t[h]=i}return t=t.join("")}},{key:"_toAlphabet",value:function(t,e){var s="";do{s=e.charAt(t.mod(e.length))+s,t=t.div(e.length)}while(t.toNumber());return s}},{key:"_fromAlphabet",value:function(t,e){return t.split("").map(function(t){return e.indexOf(t)}).reduce(function(t,s){return t.mul(e.length).add(s)},(0,n.default)(0))}}]),t}();e.default=a,t.exports=e.default});
//# sourceMappingURL=hashids.min.map